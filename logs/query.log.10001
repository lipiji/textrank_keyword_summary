2020-11-06 16:11:00 PM - selector_events.py[line:58] - DEBUG: Using selector: EpollSelector
2020-11-06 16:12:20 PM - __init__.py[line:69] - DEBUG: Building prefix dict from /dockerdata/pjli/anaconda3/lib/python3.7/site-packages/jieba/dict.txt ...
2020-11-06 16:12:20 PM - __init__.py[line:78] - DEBUG: Loading model from cache /tmp/jieba.cache
2020-11-06 16:12:21 PM - __init__.py[line:106] - DEBUG: Loading model cost 0.7883238792419434 seconds.
2020-11-06 16:12:21 PM - __init__.py[line:107] - DEBUG: Prefix dict has been built succesfully.
2020-11-06 16:12:21 PM - web.py[line:1788] - ERROR: Uncaught exception POST /nlu/kwsum (127.0.0.1)
HTTPServerRequest(protocol='http', host='0.0.0.0:10001', method='POST', uri='/nlu/kwsum', version='HTTP/1.0', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "app.py", line 80, in post
    self.write(do_res(0, {"keywords":res_kws, "sentences":res_sum}, mstime() - start))
  File "app.py", line 29, in do_res
    r = json.dumps(res, ensure_ascii=False)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Circular reference detected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/dockerdata/pjli/anaconda3/lib/python3.7/site-packages/tornado/web.py", line 1697, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "app.py", line 84, in post
    traceback.print_exc()
NameError: name 'traceback' is not defined
2020-11-06 16:12:21 PM - web.py[line:2246] - ERROR: 500 POST /nlu/kwsum (127.0.0.1) 831.19ms
2020-11-06 16:13:38 PM - selector_events.py[line:58] - DEBUG: Using selector: EpollSelector
2020-11-06 16:13:43 PM - __init__.py[line:69] - DEBUG: Building prefix dict from /dockerdata/pjli/anaconda3/lib/python3.7/site-packages/jieba/dict.txt ...
2020-11-06 16:13:43 PM - __init__.py[line:78] - DEBUG: Loading model from cache /tmp/jieba.cache
2020-11-06 16:13:44 PM - __init__.py[line:106] - DEBUG: Loading model cost 0.7760283946990967 seconds.
2020-11-06 16:13:44 PM - __init__.py[line:107] - DEBUG: Prefix dict has been built succesfully.
2020-11-06 16:13:44 PM - web.py[line:1788] - ERROR: Uncaught exception POST /nlu/kwsum (127.0.0.1)
HTTPServerRequest(protocol='http', host='0.0.0.0:10001', method='POST', uri='/nlu/kwsum', version='HTTP/1.0', remote_ip='127.0.0.1')
Traceback (most recent call last):
  File "app.py", line 81, in post
    self.write(do_res(0, {"keywords":res_kws, "sentences":res_sum}, mstime() - start))
  File "app.py", line 30, in do_res
    r = json.dumps(res, ensure_ascii=False)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Circular reference detected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/dockerdata/pjli/anaconda3/lib/python3.7/site-packages/tornado/web.py", line 1697, in _execute
    result = method(*self.path_args, **self.path_kwargs)
  File "app.py", line 86, in post
    self.write(do_res(2, {}, start - mstime()))
  File "app.py", line 30, in do_res
    r = json.dumps(res, ensure_ascii=False)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/dockerdata/pjli/anaconda3/lib/python3.7/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
ValueError: Circular reference detected
2020-11-06 16:13:44 PM - web.py[line:2246] - ERROR: 500 POST /nlu/kwsum (127.0.0.1) 818.46ms
2020-11-06 16:16:22 PM - selector_events.py[line:58] - DEBUG: Using selector: EpollSelector
2020-11-06 16:16:25 PM - __init__.py[line:69] - DEBUG: Building prefix dict from /dockerdata/pjli/anaconda3/lib/python3.7/site-packages/jieba/dict.txt ...
2020-11-06 16:16:25 PM - __init__.py[line:78] - DEBUG: Loading model from cache /tmp/jieba.cache
2020-11-06 16:16:26 PM - __init__.py[line:106] - DEBUG: Loading model cost 0.7766540050506592 seconds.
2020-11-06 16:16:26 PM - __init__.py[line:107] - DEBUG: Prefix dict has been built succesfully.
2020-11-06 16:16:26 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["战队", "ig", "knight", "忍界", "大战", "lpl", "滚雪球", "英雄", "剧情", "佐伊", "差点", "tes", "高地", "姿态", "露出破绽", "机会", "比赛"], "sentences": ["昨天7月26号英雄联盟lpl忍界大战剧情跌宕起伏，特别是第二场比赛双方打得难解难分，不断更换攻守姿态，每次ig战队想滚雪球都会被knight佐伊拦住，差点就陷入绝境。", "好在tes战队在高地前膨胀犯错，露出破绽，被ig战队找机会连杀四人，直接一波推家结束比赛！"]}, "time_ms": 817}
2020-11-06 16:16:26 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 817.77ms
2020-11-06 16:18:11 PM - selector_events.py[line:58] - DEBUG: Using selector: EpollSelector
2020-11-06 16:18:16 PM - __init__.py[line:69] - DEBUG: Building prefix dict from /dockerdata/pjli/anaconda3/lib/python3.7/site-packages/jieba/dict.txt ...
2020-11-06 16:18:16 PM - __init__.py[line:78] - DEBUG: Loading model from cache /tmp/jieba.cache
2020-11-06 16:18:17 PM - __init__.py[line:106] - DEBUG: Loading model cost 0.7869408130645752 seconds.
2020-11-06 16:18:17 PM - __init__.py[line:107] - DEBUG: Prefix dict has been built succesfully.
2020-11-06 16:18:17 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["战队", "ig", "knight", "忍界", "大战", "lpl", "滚雪球", "英雄", "剧情", "佐伊", "差点", "tes", "高地", "姿态", "露出破绽", "机会", "比赛"], "sentences": ["昨天7月26号英雄联盟lpl忍界大战剧情跌宕起伏，特别是第二场比赛双方打得难解难分，不断更换攻守姿态，每次ig战队想滚雪球都会被knight佐伊拦住，差点就陷入绝境。", "好在tes战队在高地前膨胀犯错，露出破绽，被ig战队找机会连杀四人，直接一波推家结束比赛！"]}, "time_ms": 827}
2020-11-06 16:18:17 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 827.97ms
2020-11-06 16:22:29 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["驾车", "醉酒", "张小渠", "公共安全", "被告人", "危害", "松涛", "轿车", "主观", "审判长", "玛莎拉蒂", "犯罪", "永城市", "方法", "外环路", "事故", "东城区", "罪行", "主犯", "河南省"], "sentences": ["商丘市中级人民法院认为，被告人谭明明明知酒后驾车违法、醉酒驾车会危害公共安全，却无视交通法规和公共安全，在醉酒驾车发生交通事故后不顾劝阻，继续驾车冲撞逃离，在市区内高速行驶，造成两死一伤的严重后果和财产损失，其主观上对持续发生的危害结果持放任态度，具有危害公共安全的故意；被告人刘松涛、张小渠与谭明明共同饮酒后，对谭明明酒后驾车不予劝阻，在发生事故后又怂恿谭明明驾车逃逸，以致发生严重后果，三被告人的行为均已构成以危险方法危害公共安全罪。", "以以危险方法危害公共安全罪，分别判处被告人谭明明无期徒刑，剥夺政治权利终身;被告人刘松涛有期徒刑三年，缓刑三年;被告人张小渠有期徒刑三年，缓刑三年。", "审判长答记者问2020年11月6日，河南省商丘市中级人民法院在永城市人民法院对被告人谭明明、刘松涛、张小渠以危险方法危害公共安全一案公开宣判。", "女子醉驾玛莎拉蒂致2死案宣判：主犯无期徒刑剥夺政治权利终身自动播放2020年11月6日，河南省商丘市中级人民法院在永城市人民法院对被告人谭明明、刘松涛、张小渠以危险方法危害公共安全一案公开宣判。", "被告人谭明明明知酒后驾车违法、醉酒驾车会危害公共安全，却无视交通法规和公共安全，在醉酒驾车发生交通事故后不顾劝阻，继续驾车冲撞逃离，在市区内高速行驶（发生事故时车速约为120公里/小时-135公里/小时），造成两死一伤的严重后果和财产损失，其主观上对持续发生的危害结果持放任态度，具有危害公共安全的故意。"]}, "time_ms": 120}
2020-11-06 16:22:29 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 121.15ms
2020-11-06 16:23:54 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["驾车", "醉酒", "张小渠", "公共安全", "被告人", "危害", "松涛", "轿车", "主观", "审判长", "玛莎拉蒂", "犯罪", "永城市", "方法", "外环路", "事故", "东城区", "罪行", "主犯", "河南省"], "sentences": ["商丘市中级人民法院认为，被告人谭明明明知酒后驾车违法、醉酒驾车会危害公共安全，却无视交通法规和公共安全，在醉酒驾车发生交通事故后不顾劝阻，继续驾车冲撞逃离，在市区内高速行驶，造成两死一伤的严重后果和财产损失，其主观上对持续发生的危害结果持放任态度，具有危害公共安全的故意；被告人刘松涛、张小渠与谭明明共同饮酒后，对谭明明酒后驾车不予劝阻，在发生事故后又怂恿谭明明驾车逃逸，以致发生严重后果，三被告人的行为均已构成以危险方法危害公共安全罪。", "以以危险方法危害公共安全罪，分别判处被告人谭明明无期徒刑，剥夺政治权利终身;被告人刘松涛有期徒刑三年，缓刑三年;被告人张小渠有期徒刑三年，缓刑三年。", "审判长答记者问2020年11月6日，河南省商丘市中级人民法院在永城市人民法院对被告人谭明明、刘松涛、张小渠以危险方法危害公共安全一案公开宣判。", "女子醉驾玛莎拉蒂致2死案宣判：主犯无期徒刑剥夺政治权利终身自动播放2020年11月6日，河南省商丘市中级人民法院在永城市人民法院对被告人谭明明、刘松涛、张小渠以危险方法危害公共安全一案公开宣判。", "被告人谭明明明知酒后驾车违法、醉酒驾车会危害公共安全，却无视交通法规和公共安全，在醉酒驾车发生交通事故后不顾劝阻，继续驾车冲撞逃离，在市区内高速行驶（发生事故时车速约为120公里/小时-135公里/小时），造成两死一伤的严重后果和财产损失，其主观上对持续发生的危害结果持放任态度，具有危害公共安全的故意。"]}, "time_ms": 186}
2020-11-06 16:23:54 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 186.72ms
2020-11-06 16:24:40 PM - selector_events.py[line:58] - DEBUG: Using selector: EpollSelector
2020-11-06 16:24:47 PM - __init__.py[line:69] - DEBUG: Building prefix dict from /dockerdata/pjli/anaconda3/lib/python3.7/site-packages/jieba/dict.txt ...
2020-11-06 16:24:47 PM - __init__.py[line:78] - DEBUG: Loading model from cache /tmp/jieba.cache
2020-11-06 16:24:48 PM - __init__.py[line:106] - DEBUG: Loading model cost 0.7747952938079834 seconds.
2020-11-06 16:24:48 PM - __init__.py[line:107] - DEBUG: Prefix dict has been built succesfully.
2020-11-06 16:24:48 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["驾车", "醉酒", "张小渠", "公共安全", "被告人"], "sentences": ["商丘市中级人民法院认为，被告人谭明明明知酒后驾车违法、醉酒驾车会危害公共安全，却无视交通法规和公共安全，在醉酒驾车发生交通事故后不顾劝阻，继续驾车冲撞逃离，在市区内高速行驶，造成两死一伤的严重后果和财产损失，其主观上对持续发生的危害结果持放任态度，具有危害公共安全的故意；被告人刘松涛、张小渠与谭明明共同饮酒后，对谭明明酒后驾车不予劝阻，在发生事故后又怂恿谭明明驾车逃逸，以致发生严重后果，三被告人的行为均已构成以危险方法危害公共安全罪。", "以以危险方法危害公共安全罪，分别判处被告人谭明明无期徒刑，剥夺政治权利终身;被告人刘松涛有期徒刑三年，缓刑三年;被告人张小渠有期徒刑三年，缓刑三年。", "审判长答记者问2020年11月6日，河南省商丘市中级人民法院在永城市人民法院对被告人谭明明、刘松涛、张小渠以危险方法危害公共安全一案公开宣判。", "女子醉驾玛莎拉蒂致2死案宣判：主犯无期徒刑剥夺政治权利终身自动播放2020年11月6日，河南省商丘市中级人民法院在永城市人民法院对被告人谭明明、刘松涛、张小渠以危险方法危害公共安全一案公开宣判。", "被告人谭明明明知酒后驾车违法、醉酒驾车会危害公共安全，却无视交通法规和公共安全，在醉酒驾车发生交通事故后不顾劝阻，继续驾车冲撞逃离，在市区内高速行驶（发生事故时车速约为120公里/小时-135公里/小时），造成两死一伤的严重后果和财产损失，其主观上对持续发生的危害结果持放任态度，具有危害公共安全的故意。"]}, "time_ms": 922}
2020-11-06 16:24:48 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 924.01ms
2020-11-06 16:25:24 PM - selector_events.py[line:58] - DEBUG: Using selector: EpollSelector
2020-11-06 16:30:42 PM - __init__.py[line:69] - DEBUG: Building prefix dict from /dockerdata/pjli/anaconda3/lib/python3.7/site-packages/jieba/dict.txt ...
2020-11-06 16:30:42 PM - __init__.py[line:78] - DEBUG: Loading model from cache /tmp/jieba.cache
2020-11-06 16:30:43 PM - __init__.py[line:106] - DEBUG: Loading model cost 0.7796721458435059 seconds.
2020-11-06 16:30:43 PM - __init__.py[line:107] - DEBUG: Prefix dict has been built succesfully.
2020-11-06 16:30:43 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["神经病", "员工", "动员大会", "经理", "有染"], "sentences": ["回来吃滚蛋饭吗？", "公司里有一堆神经病女人，一天到晚排挤我，怀疑我和经理有染。", "员工动员大会，说来话长，我觉得我进了一个神经病公司。", "是啊，我准备午餐都不吃了，就等滚蛋饭一顿吃个痛快。", "不知道，这公司有点怪，如果实在不让我请，我就逃班，你不是说进的公司很不错吗？"]}, "time_ms": 831}
2020-11-06 16:30:43 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 831.76ms
2020-11-06 16:30:46 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["神经病", "员工", "动员大会", "经理", "有染"], "sentences": ["回来吃滚蛋饭吗？", "公司里有一堆神经病女人，一天到晚排挤我，怀疑我和经理有染。", "员工动员大会，说来话长，我觉得我进了一个神经病公司。", "是啊，我准备午餐都不吃了，就等滚蛋饭一顿吃个痛快。", "不知道，这公司有点怪，如果实在不让我请，我就逃班，你不是说进的公司很不错吗？"]}, "time_ms": 22}
2020-11-06 16:30:46 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 23.23ms
2020-11-06 16:32:55 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["神经病", "员工", "动员大会", "经理", "有染"], "sentences": []}, "time_ms": 22}
2020-11-06 16:32:55 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 22.08ms
2020-11-06 16:33:01 PM - app.py[line:31] - INFO: {"code": 0, "msg": "successful", "result": {"keywords": ["神经病", "员工", "动员大会", "经理", "有染"], "sentences": ["回来吃滚蛋饭吗？", "公司里有一堆神经病女人，一天到晚排挤我，怀疑我和经理有染。", "员工动员大会，说来话长，我觉得我进了一个神经病公司。", "是啊，我准备午餐都不吃了，就等滚蛋饭一顿吃个痛快。", "不知道，这公司有点怪，如果实在不让我请，我就逃班，你不是说进的公司很不错吗？", "姐姐我长得如此可人，跟经理撒个娇就万事搞定。", "司徒末，大清早地回来扰人清梦啊？"]}, "time_ms": 22}
2020-11-06 16:33:01 PM - web.py[line:2246] - INFO: 200 POST /nlu/kwsum (127.0.0.1) 23.00ms
